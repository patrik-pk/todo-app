@import '../_global/style.scss';

// Input Variables
$input-padding-horizontal: 5px;
$input-padding-vertical: 5px;

// Input Buttons
$clear-btn-width: 30px;
$clear-icon-size: 16px;
$submit-btn-width: 60px;
$input-btn-ml: 5px;

// Todo Item Buttons
$icon-size: 18px;

.todo-page {
    display: flex;

    // Sidebar
    @import '../sidebar/sidebar.scss';

    // Rest of the page
    .todo-section {
        width: calc(0.9 * (100vw - #{$sidebar-width}));
        margin: 0 auto;
    
        .current-category {
            margin-top: 20px;
        }
    
        .todo-form {
            display: flex;
            margin-top: 20px;

            .todo-input {
                // Input width is 100% of the form subscracted by 2 * (input horizontal padding + 2px for input border),
                // the submit button width and the margin left between the input and the submit button 
                // in order for the input to fit in nicely
                width: calc(
                    100% 
                    - 2 * (#{$input-padding-horizontal} + 2px) 
                    - #{$submit-btn-width} 
                    - #{$input-btn-ml}
                );
                padding: 5px 5px;
                &.active {
                    // When there is something in current, the clear button is displayed,
                    // so add its width to the substraction along with one additional margin left
                    width: calc(
                        100% 
                        - 2 * (#{$input-padding-horizontal} + 2px) 
                        - #{$clear-btn-width} 
                        - #{$submit-btn-width} 
                        - 2 * #{$input-btn-ml}
                    );
                }
            }

            .submit-btn, .clear-btn {
                padding: 6px 0;
                margin-left: $input-btn-ml;
            }

            .clear-btn {
                display: none;
                width: $clear-btn-width;
                background: black;
                &.active {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                }

                .clear-icon {
                    width: $clear-icon-size;
                    height: $clear-icon-size;
                }
            }
            
            .submit-btn {
                width: $submit-btn-width;
                background: $color-primary;
                color: white;
            }
        }
    
        .todo-list {
            margin-top: 20px;
    
            .todo-item {
                display: flex;
                justify-content: space-between;
                margin-bottom: 10px;
                padding: 10px 10px;
                border-bottom: 1px #ccc solid;
                &:last-child {
                    margin-bottom: 0;
                    border-bottom: 0;
                }
    
                .task-text {
                    display: flex;
                    align-items: center;
                    max-width: 70%;
                }
    
                .options {
                    display: flex;

                    .edit-btn, .delete-btn {
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        padding: 5px 7px;
                        background: transparent;
    
                        .todo-icon {
                            width: $icon-size;
                            height: $icon-size;
                        }
                    }
        
                    .delete-btn {
                        margin-left: 7px;
                    }
                }
            }
        }
    }

}